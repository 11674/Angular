<h4>Formularios <small>data</small></h4>
<hr>


<form class="needs-validation" [formGroup]="forma" (ngSubmit)="guardarCambios()">

  <div formGroupName="nombrecompleto">

    <!-- NOMBRE  -->
    <div class="form-group row">
      <label class="col-2 col-form-label"> Nombre </label>
      <div class="col-8 ">
        <hr />
        <input class="form-control is-invalid" type="text" placeholder="Nombre" formControlName="nombre">

        <div class="invalid-feedback" *ngIf="forma.get('nombrecompleto.nombre').errors?.required && !forma.get('nombrecompleto.nombre').untouched">
          Este campo es requerido
        </div>
        <div class="invalid-feedback" *ngIf="forma.get('nombrecompleto.nombre').errors?.minlength">
          El campo debe de tener por lo menos 3 caracteres
        </div>
      </div>
    </div>

    <!-- APELLIDOS -->
    <div class="form-group row">
      <label for="apellidos" class="col-2 col-form-label"> Apellidos </label>
      <div class="col-8">
        <hr />
        <input class="form-control is-invalid" id="apellidos" type="text" name="apellidos" placeholder="Apellido" formControlName="apellidos">

        <div class="invalid-feedback" *ngIf="forma.get('nombrecompleto.apellidos').errors?.required && !forma.get('nombrecompleto.apellidos').untouched">
          Este campo es requerido
        </div>
      </div>
    </div>
  </div>
  <!-- EMAIL -->
  <div class="form-group row">
    <label for="email" class="col-2 col-form-label"> Email </label>
    <div class="col-md-8">
      <hr />
      <input class="form-control is-invalid" id="email" type="email" name="email" placeholder="Email" formControlName="email">
      <div class="valid-feedback">
      </div>

      <div class="invalid-feedback" *ngIf="forma.controls['email'].errors?.required && !forma.controls['email'].untouched">
        Este campo es requerido
      </div>
      <div class="invalid-feedback" *ngIf="forma.controls['email'].errors?.pattern">
        El formato introducido es incorrecto
      </div>
    </div>
  </div>

  <!-- USERNAME -->
  <div class="form-group row">
    <label class="col-2 col-form-label"> Usuario </label>
    <div class="col-8">
      <input class="form-control" type="username" placeholder="Username" formControlName="username">
    </div>
  </div>

  <!-- PASSWORD1 -->
  <div class="form-group row">
    <label class="col-2 col-form-label"> Contraseña </label>
    <div class="col-md-8">
      <input class="form-control" type="password" placeholder="Password" formControlName="password1">
    </div>
  </div>

  <!--PASSWORD2  -->
  <div class="form-group row">
    <label class="col-2 col-form-label"> Repetir Contraseña</label>
    <div class="col-md-8">
      <input class="form-control" type="password" placeholder="Password" formControlName="password2">
    </div>
  </div>
  <!-- PASATIEMPOS -->
  <div class="form-group row">
    <label class="col-2 col-form-label"> Pasatiempos </label>
    <div class="col-md-8" formArrayName="pasatiempos">

      <input type="text" class="form-control" [formControlName]="i" *ngFor="let pasatiempo of forma.controls['pasatiempos'].controls; let i = index" />
    </div>
    <button class="btn btn-primary" (click)="agregarPasaTiempo()"> Nuevo</button>
  </div>
  <!-- BOTTON -->
  <div class="form-group row">
    <label class="col-2 col-form-label">&nbsp;</label>
    <div class="input-group col-md-8">
      <button type="submit" class="btn btn-outline-primary">
        Guardar
      </button>
    </div>
  </div>

</form>
<h5>Forma Valid</h5>
<pre>
{{ forma.valid}}
</pre>
<br />
<h5>Forma Status</h5>
<pre>
{{forma.status}}
</pre>
